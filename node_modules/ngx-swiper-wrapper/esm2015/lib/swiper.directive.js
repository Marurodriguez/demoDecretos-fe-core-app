import { __decorate, __param } from "tslib";
import Swiper from 'swiper';
import { PLATFORM_ID } from '@angular/core';
import { isPlatformBrowser } from '@angular/common';
import { NgZone, Inject, Optional, ElementRef, Directive, AfterViewInit, OnDestroy, DoCheck, OnChanges, Input, Output, EventEmitter, SimpleChanges, KeyValueDiffer, KeyValueDiffers } from '@angular/core';
import { SWIPER_CONFIG, SwiperConfig, SwiperEvents } from './swiper.interfaces';
import * as ɵngcc0 from '@angular/core';
let SwiperDirective = class SwiperDirective {
    constructor(platformId, zone, elementRef, differs, defaults) {
        this.platformId = platformId;
        this.zone = zone;
        this.elementRef = elementRef;
        this.differs = differs;
        this.defaults = defaults;
        this.initialIndex = null;
        this.configDiff = null;
        this.disabled = false;
        this.performance = false;
        this.indexChange = new EventEmitter();
        this.S_INIT = new EventEmitter();
        this.S_BEFOREDESTROY = new EventEmitter();
        this.S_SCROLL = new EventEmitter();
        this.S_PROGRESS = new EventEmitter();
        this.S_KEYPRESS = new EventEmitter();
        this.S_RESIZE = new EventEmitter();
        this.S_BREAKPOINT = new EventEmitter();
        this.S_ZOOMCHANGE = new EventEmitter();
        this.S_AFTERRESIZE = new EventEmitter();
        this.S_BEFORERESIZE = new EventEmitter();
        this.S_LOOPFIX = new EventEmitter();
        this.S_BEFORELOOPFIX = new EventEmitter();
        this.S_SLIDERMOVE = new EventEmitter();
        this.S_SLIDECHANGE = new EventEmitter();
        this.S_SETTRANSLATE = new EventEmitter();
        this.S_SETTRANSITION = new EventEmitter();
        this.S_FROMEDGE = new EventEmitter();
        this.S_REACHEND = new EventEmitter();
        this.S_REACHBEGINNING = new EventEmitter();
        this.S_AUTOPLAY = new EventEmitter();
        this.S_AUTOPLAYSTART = new EventEmitter();
        this.S_AUTOPLAYSTOP = new EventEmitter();
        this.S_IMAGESREADY = new EventEmitter();
        this.S_LAZYIMAGELOAD = new EventEmitter();
        this.S_LAZYIMAGEREADY = new EventEmitter();
        this.S_SCROLLDRAGEND = new EventEmitter();
        this.S_SCROLLDRAGMOVE = new EventEmitter();
        this.S_SCROLLDRAGSTART = new EventEmitter();
        this.S_NAVIGATIONHIDE = new EventEmitter();
        this.S_NAVIGATIONSHOW = new EventEmitter();
        this.S_PAGINATIONRENDER = new EventEmitter();
        this.S_PAGINATIONUPDATE = new EventEmitter();
        this.S_PAGINATIONHIDE = new EventEmitter();
        this.S_PAGINATIONSHOW = new EventEmitter();
        this.S_TAP = new EventEmitter();
        this.S_CLICK = new EventEmitter();
        this.S_DOUBLETAP = new EventEmitter();
        this.S_TOUCHEND = new EventEmitter();
        this.S_TOUCHMOVE = new EventEmitter();
        this.S_TOUCHSTART = new EventEmitter();
        this.S_TOUCHMOVEOPPOSITE = new EventEmitter();
        this.S_TRANSITIONEND = new EventEmitter();
        this.S_TRANSITIONSTART = new EventEmitter();
        this.S_SLIDEPREVTRANSITIONEND = new EventEmitter();
        this.S_SLIDEPREVTRANSITIONSTART = new EventEmitter();
        this.S_SLIDENEXTTRANSITIONEND = new EventEmitter();
        this.S_SLIDENEXTTRANSITIONSTART = new EventEmitter();
        this.S_SLIDECHANGETRANSITIONEND = new EventEmitter();
        this.S_SLIDECHANGETRANSITIONSTART = new EventEmitter();
    }
    set index(index) {
        if (index != null) {
            this.setIndex(index);
        }
    }
    ngAfterViewInit() {
        if (!isPlatformBrowser(this.platformId)) {
            return;
        }
        const params = new SwiperConfig(this.defaults);
        params.assign(this.config); // Custom configuration
        if (params.scrollbar === true) {
            params.scrollbar = {
                el: '.swiper-scrollbar'
            };
        }
        if (params.pagination === true) {
            params.pagination = {
                el: '.swiper-pagination'
            };
        }
        if (params.navigation === true) {
            params.navigation = {
                prevEl: '.swiper-button-prev',
                nextEl: '.swiper-button-next'
            };
        }
        if (this.disabled) {
            params.allowSlidePrev = false;
            params.allowSlideNext = false;
        }
        if (this.initialIndex != null) {
            params.initialSlide = this.initialIndex;
            this.initialIndex = null;
        }
        params.on = {
            slideChange: () => {
                if (this.instance && this.indexChange.observers.length) {
                    this.emit(this.indexChange, this.instance.realIndex);
                }
            }
        };
        this.zone.runOutsideAngular(() => {
            this.instance = new Swiper(this.elementRef.nativeElement, params);
        });
        if (params.init !== false && this.S_INIT.observers.length) {
            this.emit(this.S_INIT, this.instance);
        }
        // Add native Swiper event handling
        SwiperEvents.forEach((eventName) => {
            let swiperEvent = eventName.replace('swiper', '');
            swiperEvent = swiperEvent.charAt(0).toLowerCase() + swiperEvent.slice(1);
            this.instance.on(swiperEvent, (...args) => {
                if (args.length === 1) {
                    args = args[0];
                }
                const output = `S_${swiperEvent.toUpperCase()}`;
                const emitter = this[output];
                if (emitter.observers.length) {
                    this.emit(emitter, args);
                }
            });
        });
        if (!this.configDiff) {
            this.configDiff = this.differs.find(this.config || {}).create();
            this.configDiff.diff(this.config || {});
        }
    }
    ngOnDestroy() {
        if (this.instance) {
            this.zone.runOutsideAngular(() => {
                this.instance.destroy(true, this.instance.initialized || false);
            });
            this.instance = null;
        }
    }
    ngDoCheck() {
        if (this.configDiff) {
            const changes = this.configDiff.diff(this.config || {});
            if (changes) {
                this.initialIndex = this.getIndex(true);
                this.ngOnDestroy();
                this.ngAfterViewInit();
                this.update();
            }
        }
    }
    ngOnChanges(changes) {
        if (this.instance && changes['disabled']) {
            if (changes['disabled'].currentValue !== changes['disabled'].previousValue) {
                if (changes['disabled'].currentValue === true) {
                    this.zone.runOutsideAngular(() => {
                        this.ngOnDestroy();
                        this.ngAfterViewInit();
                    });
                }
                else if (changes['disabled'].currentValue === false) {
                    this.zone.runOutsideAngular(() => {
                        this.ngOnDestroy();
                        this.ngAfterViewInit();
                    });
                }
            }
        }
    }
    emit(emitter, value) {
        if (this.performance) {
            emitter.emit(value);
        }
        else {
            this.zone.run(() => emitter.emit(value));
        }
    }
    swiper() {
        return this.instance;
    }
    init() {
        if (this.instance) {
            this.zone.runOutsideAngular(() => {
                this.instance.init();
            });
        }
    }
    update() {
        setTimeout(() => {
            if (this.instance) {
                this.zone.runOutsideAngular(() => {
                    this.instance.update();
                });
            }
        }, 0);
    }
    getIndex(real) {
        if (!this.instance) {
            return this.initialIndex || 0;
        }
        else {
            return real ? this.instance.realIndex : this.instance.activeIndex;
        }
    }
    setIndex(index, speed, silent) {
        if (!this.instance) {
            this.initialIndex = index;
        }
        else {
            let realIndex = index * this.instance.params.slidesPerGroup;
            if (this.instance.params.loop) {
                realIndex += this.instance.loopedSlides;
            }
            this.zone.runOutsideAngular(() => {
                this.instance.slideTo(realIndex, speed, !silent);
            });
        }
    }
    prevSlide(speed, silent) {
        if (this.instance) {
            this.zone.runOutsideAngular(() => {
                this.instance.slidePrev(speed, !silent);
            });
        }
    }
    nextSlide(speed, silent) {
        if (this.instance) {
            this.zone.runOutsideAngular(() => {
                this.instance.slideNext(speed, !silent);
            });
        }
    }
    stopAutoplay(reset) {
        if (reset) {
            this.setIndex(0);
        }
        if (this.instance && this.instance.autoplay) {
            this.zone.runOutsideAngular(() => {
                this.instance.autoplay.stop();
            });
        }
    }
    startAutoplay(reset) {
        if (reset) {
            this.setIndex(0);
        }
        if (this.instance && this.instance.autoplay) {
            this.zone.runOutsideAngular(() => {
                this.instance.autoplay.start();
            });
        }
    }
};
SwiperDirective.ɵfac = function SwiperDirective_Factory(t) { return new (t || SwiperDirective)(ɵngcc0.ɵɵdirectiveInject(PLATFORM_ID), ɵngcc0.ɵɵdirectiveInject(NgZone), ɵngcc0.ɵɵdirectiveInject(ElementRef), ɵngcc0.ɵɵdirectiveInject(KeyValueDiffers), ɵngcc0.ɵɵdirectiveInject(SWIPER_CONFIG, 8)); };
SwiperDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: SwiperDirective, selectors: [["", "swiper", ""]], inputs: { disabled: "disabled", performance: "performance", index: "index", config: ["swiper", "config"] }, outputs: { indexChange: "indexChange", S_INIT: "init", S_BEFOREDESTROY: "beforeDestroy", S_SCROLL: "scroll", S_PROGRESS: "progress", S_KEYPRESS: "keyPress", S_RESIZE: "resize", S_BREAKPOINT: "breakpoint", S_ZOOMCHANGE: "zoomChange", S_AFTERRESIZE: "afterResize", S_BEFORERESIZE: "beforeResize", S_LOOPFIX: "loopFix", S_BEFORELOOPFIX: "beforeLoopFix", S_SLIDERMOVE: "sliderMove", S_SLIDECHANGE: "slideChange", S_SETTRANSLATE: "setTranslate", S_SETTRANSITION: "setTransition", S_FROMEDGE: "fromEdge", S_REACHEND: "reachEnd", S_REACHBEGINNING: "reachBeginning", S_AUTOPLAY: "autoplay", S_AUTOPLAYSTART: "autoplayStart", S_AUTOPLAYSTOP: "autoplayStop", S_IMAGESREADY: "imagesReady", S_LAZYIMAGELOAD: "lazyImageLoad", S_LAZYIMAGEREADY: "lazyImageReady", S_SCROLLDRAGEND: "scrollDragEnd", S_SCROLLDRAGMOVE: "scrollDragMove", S_SCROLLDRAGSTART: "scrollDragStart", S_NAVIGATIONHIDE: "navigationHide", S_NAVIGATIONSHOW: "navigationShow", S_PAGINATIONRENDER: "paginationRender", S_PAGINATIONUPDATE: "paginationUpdate", S_PAGINATIONHIDE: "paginationHide", S_PAGINATIONSHOW: "paginationShow", S_TAP: "swiperTap", S_CLICK: "swiperClick", S_DOUBLETAP: "swiperDoubleTap", S_TOUCHEND: "swiperTouchEnd", S_TOUCHMOVE: "swiperTouchMove", S_TOUCHSTART: "swiperTouchStart", S_TOUCHMOVEOPPOSITE: "swiperTouchMoveOpposite", S_TRANSITIONEND: "swiperTransitionEnd", S_TRANSITIONSTART: "swiperTransitionStart", S_SLIDEPREVTRANSITIONEND: "slidePrevTransitionEnd", S_SLIDEPREVTRANSITIONSTART: "slidePrevTransitionStart", S_SLIDENEXTTRANSITIONEND: "slideNextTransitionEnd", S_SLIDENEXTTRANSITIONSTART: "slideNextTransitionStart", S_SLIDECHANGETRANSITIONEND: "slideChangeTransitionEnd", S_SLIDECHANGETRANSITIONSTART: "slideChangeTransitionStart" }, exportAs: ["ngxSwiper"], features: [ɵngcc0.ɵɵNgOnChangesFeature] });
SwiperDirective.ctorParameters = () => [
    { type: Object, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] },
    { type: NgZone },
    { type: ElementRef },
    { type: KeyValueDiffers },
    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [SWIPER_CONFIG,] }] }
];
__decorate([
    Input()
], SwiperDirective.prototype, "index", null);
__decorate([
    Input()
], SwiperDirective.prototype, "disabled", void 0);
__decorate([
    Input()
], SwiperDirective.prototype, "performance", void 0);
__decorate([
    Input('swiper')
], SwiperDirective.prototype, "config", void 0);
__decorate([
    Output()
], SwiperDirective.prototype, "indexChange", void 0);
__decorate([
    Output('init')
], SwiperDirective.prototype, "S_INIT", void 0);
__decorate([
    Output('beforeDestroy')
], SwiperDirective.prototype, "S_BEFOREDESTROY", void 0);
__decorate([
    Output('scroll')
], SwiperDirective.prototype, "S_SCROLL", void 0);
__decorate([
    Output('progress')
], SwiperDirective.prototype, "S_PROGRESS", void 0);
__decorate([
    Output('keyPress')
], SwiperDirective.prototype, "S_KEYPRESS", void 0);
__decorate([
    Output('resize')
], SwiperDirective.prototype, "S_RESIZE", void 0);
__decorate([
    Output('breakpoint')
], SwiperDirective.prototype, "S_BREAKPOINT", void 0);
__decorate([
    Output('zoomChange')
], SwiperDirective.prototype, "S_ZOOMCHANGE", void 0);
__decorate([
    Output('afterResize')
], SwiperDirective.prototype, "S_AFTERRESIZE", void 0);
__decorate([
    Output('beforeResize')
], SwiperDirective.prototype, "S_BEFORERESIZE", void 0);
__decorate([
    Output('loopFix')
], SwiperDirective.prototype, "S_LOOPFIX", void 0);
__decorate([
    Output('beforeLoopFix')
], SwiperDirective.prototype, "S_BEFORELOOPFIX", void 0);
__decorate([
    Output('sliderMove')
], SwiperDirective.prototype, "S_SLIDERMOVE", void 0);
__decorate([
    Output('slideChange')
], SwiperDirective.prototype, "S_SLIDECHANGE", void 0);
__decorate([
    Output('setTranslate')
], SwiperDirective.prototype, "S_SETTRANSLATE", void 0);
__decorate([
    Output('setTransition')
], SwiperDirective.prototype, "S_SETTRANSITION", void 0);
__decorate([
    Output('fromEdge')
], SwiperDirective.prototype, "S_FROMEDGE", void 0);
__decorate([
    Output('reachEnd')
], SwiperDirective.prototype, "S_REACHEND", void 0);
__decorate([
    Output('reachBeginning')
], SwiperDirective.prototype, "S_REACHBEGINNING", void 0);
__decorate([
    Output('autoplay')
], SwiperDirective.prototype, "S_AUTOPLAY", void 0);
__decorate([
    Output('autoplayStart')
], SwiperDirective.prototype, "S_AUTOPLAYSTART", void 0);
__decorate([
    Output('autoplayStop')
], SwiperDirective.prototype, "S_AUTOPLAYSTOP", void 0);
__decorate([
    Output('imagesReady')
], SwiperDirective.prototype, "S_IMAGESREADY", void 0);
__decorate([
    Output('lazyImageLoad')
], SwiperDirective.prototype, "S_LAZYIMAGELOAD", void 0);
__decorate([
    Output('lazyImageReady')
], SwiperDirective.prototype, "S_LAZYIMAGEREADY", void 0);
__decorate([
    Output('scrollDragEnd')
], SwiperDirective.prototype, "S_SCROLLDRAGEND", void 0);
__decorate([
    Output('scrollDragMove')
], SwiperDirective.prototype, "S_SCROLLDRAGMOVE", void 0);
__decorate([
    Output('scrollDragStart')
], SwiperDirective.prototype, "S_SCROLLDRAGSTART", void 0);
__decorate([
    Output('navigationHide')
], SwiperDirective.prototype, "S_NAVIGATIONHIDE", void 0);
__decorate([
    Output('navigationShow')
], SwiperDirective.prototype, "S_NAVIGATIONSHOW", void 0);
__decorate([
    Output('paginationRender')
], SwiperDirective.prototype, "S_PAGINATIONRENDER", void 0);
__decorate([
    Output('paginationUpdate')
], SwiperDirective.prototype, "S_PAGINATIONUPDATE", void 0);
__decorate([
    Output('paginationHide')
], SwiperDirective.prototype, "S_PAGINATIONHIDE", void 0);
__decorate([
    Output('paginationShow')
], SwiperDirective.prototype, "S_PAGINATIONSHOW", void 0);
__decorate([
    Output('swiperTap')
], SwiperDirective.prototype, "S_TAP", void 0);
__decorate([
    Output('swiperClick')
], SwiperDirective.prototype, "S_CLICK", void 0);
__decorate([
    Output('swiperDoubleTap')
], SwiperDirective.prototype, "S_DOUBLETAP", void 0);
__decorate([
    Output('swiperTouchEnd')
], SwiperDirective.prototype, "S_TOUCHEND", void 0);
__decorate([
    Output('swiperTouchMove')
], SwiperDirective.prototype, "S_TOUCHMOVE", void 0);
__decorate([
    Output('swiperTouchStart')
], SwiperDirective.prototype, "S_TOUCHSTART", void 0);
__decorate([
    Output('swiperTouchMoveOpposite')
], SwiperDirective.prototype, "S_TOUCHMOVEOPPOSITE", void 0);
__decorate([
    Output('swiperTransitionEnd')
], SwiperDirective.prototype, "S_TRANSITIONEND", void 0);
__decorate([
    Output('swiperTransitionStart')
], SwiperDirective.prototype, "S_TRANSITIONSTART", void 0);
__decorate([
    Output('slidePrevTransitionEnd')
], SwiperDirective.prototype, "S_SLIDEPREVTRANSITIONEND", void 0);
__decorate([
    Output('slidePrevTransitionStart')
], SwiperDirective.prototype, "S_SLIDEPREVTRANSITIONSTART", void 0);
__decorate([
    Output('slideNextTransitionEnd')
], SwiperDirective.prototype, "S_SLIDENEXTTRANSITIONEND", void 0);
__decorate([
    Output('slideNextTransitionStart')
], SwiperDirective.prototype, "S_SLIDENEXTTRANSITIONSTART", void 0);
__decorate([
    Output('slideChangeTransitionEnd')
], SwiperDirective.prototype, "S_SLIDECHANGETRANSITIONEND", void 0);
__decorate([
    Output('slideChangeTransitionStart')
], SwiperDirective.prototype, "S_SLIDECHANGETRANSITIONSTART", void 0);
SwiperDirective = __decorate([ __param(0, Inject(PLATFORM_ID)),
    __param(4, Optional()), __param(4, Inject(SWIPER_CONFIG))
], SwiperDirective);
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(SwiperDirective, [{
        type: Directive,
        args: [{
                selector: '[swiper]',
                exportAs: 'ngxSwiper'
            }]
    }], function () { return [{ type: Object, decorators: [{
                type: Inject,
                args: [PLATFORM_ID]
            }] }, { type: NgZone }, { type: ElementRef }, { type: KeyValueDiffers }, { type: undefined, decorators: [{
                type: Optional
            }, {
                type: Inject,
                args: [SWIPER_CONFIG]
            }] }]; }, { disabled: [{
            type: Input
        }], performance: [{
            type: Input
        }], indexChange: [{
            type: Output
        }], S_INIT: [{
            type: Output,
            args: ['init']
        }], S_BEFOREDESTROY: [{
            type: Output,
            args: ['beforeDestroy']
        }], S_SCROLL: [{
            type: Output,
            args: ['scroll']
        }], S_PROGRESS: [{
            type: Output,
            args: ['progress']
        }], S_KEYPRESS: [{
            type: Output,
            args: ['keyPress']
        }], S_RESIZE: [{
            type: Output,
            args: ['resize']
        }], S_BREAKPOINT: [{
            type: Output,
            args: ['breakpoint']
        }], S_ZOOMCHANGE: [{
            type: Output,
            args: ['zoomChange']
        }], S_AFTERRESIZE: [{
            type: Output,
            args: ['afterResize']
        }], S_BEFORERESIZE: [{
            type: Output,
            args: ['beforeResize']
        }], S_LOOPFIX: [{
            type: Output,
            args: ['loopFix']
        }], S_BEFORELOOPFIX: [{
            type: Output,
            args: ['beforeLoopFix']
        }], S_SLIDERMOVE: [{
            type: Output,
            args: ['sliderMove']
        }], S_SLIDECHANGE: [{
            type: Output,
            args: ['slideChange']
        }], S_SETTRANSLATE: [{
            type: Output,
            args: ['setTranslate']
        }], S_SETTRANSITION: [{
            type: Output,
            args: ['setTransition']
        }], S_FROMEDGE: [{
            type: Output,
            args: ['fromEdge']
        }], S_REACHEND: [{
            type: Output,
            args: ['reachEnd']
        }], S_REACHBEGINNING: [{
            type: Output,
            args: ['reachBeginning']
        }], S_AUTOPLAY: [{
            type: Output,
            args: ['autoplay']
        }], S_AUTOPLAYSTART: [{
            type: Output,
            args: ['autoplayStart']
        }], S_AUTOPLAYSTOP: [{
            type: Output,
            args: ['autoplayStop']
        }], S_IMAGESREADY: [{
            type: Output,
            args: ['imagesReady']
        }], S_LAZYIMAGELOAD: [{
            type: Output,
            args: ['lazyImageLoad']
        }], S_LAZYIMAGEREADY: [{
            type: Output,
            args: ['lazyImageReady']
        }], S_SCROLLDRAGEND: [{
            type: Output,
            args: ['scrollDragEnd']
        }], S_SCROLLDRAGMOVE: [{
            type: Output,
            args: ['scrollDragMove']
        }], S_SCROLLDRAGSTART: [{
            type: Output,
            args: ['scrollDragStart']
        }], S_NAVIGATIONHIDE: [{
            type: Output,
            args: ['navigationHide']
        }], S_NAVIGATIONSHOW: [{
            type: Output,
            args: ['navigationShow']
        }], S_PAGINATIONRENDER: [{
            type: Output,
            args: ['paginationRender']
        }], S_PAGINATIONUPDATE: [{
            type: Output,
            args: ['paginationUpdate']
        }], S_PAGINATIONHIDE: [{
            type: Output,
            args: ['paginationHide']
        }], S_PAGINATIONSHOW: [{
            type: Output,
            args: ['paginationShow']
        }], S_TAP: [{
            type: Output,
            args: ['swiperTap']
        }], S_CLICK: [{
            type: Output,
            args: ['swiperClick']
        }], S_DOUBLETAP: [{
            type: Output,
            args: ['swiperDoubleTap']
        }], S_TOUCHEND: [{
            type: Output,
            args: ['swiperTouchEnd']
        }], S_TOUCHMOVE: [{
            type: Output,
            args: ['swiperTouchMove']
        }], S_TOUCHSTART: [{
            type: Output,
            args: ['swiperTouchStart']
        }], S_TOUCHMOVEOPPOSITE: [{
            type: Output,
            args: ['swiperTouchMoveOpposite']
        }], S_TRANSITIONEND: [{
            type: Output,
            args: ['swiperTransitionEnd']
        }], S_TRANSITIONSTART: [{
            type: Output,
            args: ['swiperTransitionStart']
        }], S_SLIDEPREVTRANSITIONEND: [{
            type: Output,
            args: ['slidePrevTransitionEnd']
        }], S_SLIDEPREVTRANSITIONSTART: [{
            type: Output,
            args: ['slidePrevTransitionStart']
        }], S_SLIDENEXTTRANSITIONEND: [{
            type: Output,
            args: ['slideNextTransitionEnd']
        }], S_SLIDENEXTTRANSITIONSTART: [{
            type: Output,
            args: ['slideNextTransitionStart']
        }], S_SLIDECHANGETRANSITIONEND: [{
            type: Output,
            args: ['slideChangeTransitionEnd']
        }], S_SLIDECHANGETRANSITIONSTART: [{
            type: Output,
            args: ['slideChangeTransitionStart']
        }], index: [{
            type: Input
        }], config: [{
            type: Input,
            args: ['swiper']
        }] }); })();
export { SwiperDirective };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3dpcGVyLmRpcmVjdGl2ZS5qcyIsInNvdXJjZXMiOlsibmd4LXN3aXBlci13cmFwcGVyL2xpYi9zd2lwZXIuZGlyZWN0aXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLE1BQU0sTUFBTSxRQUFRLENBQUM7QUFFNUIsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUM1QyxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNwRCxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFDdEQsYUFBYSxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUN6RSxhQUFhLEVBQUUsY0FBYyxFQUFFLGVBQWUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUV4RSxPQUFPLEVBQUUsYUFBYSxFQUFFLFlBQVksRUFDckIsWUFBWSxFQUFFLE1BQU0scUJBQXFCLENBQUM7O0FBTXpELElBQWEsZUFBZSxHQUE1QixNQUFhLGVBQWU7QUFBRyxJQXFGN0IsWUFBeUMsVUFBa0IsRUFBVSxJQUFZLEVBQ3ZFLFVBQXNCLEVBQVUsT0FBd0IsRUFDckIsUUFBK0I7QUFBSSxRQUZ2QyxlQUFVLEdBQVYsVUFBVSxDQUFRO0FBQUMsUUFBUyxTQUFJLEdBQUosSUFBSSxDQUFRO0FBQUMsUUFDeEUsZUFBVSxHQUFWLFVBQVUsQ0FBWTtBQUFDLFFBQVMsWUFBTyxHQUFQLE9BQU8sQ0FBaUI7QUFBQyxRQUN0QixhQUFRLEdBQVIsUUFBUSxDQUF1QjtBQUFDLFFBcEZyRSxpQkFBWSxHQUFrQixJQUFJLENBQUM7QUFDN0MsUUFDVSxlQUFVLEdBQXVDLElBQUksQ0FBQztBQUNoRSxRQVFXLGFBQVEsR0FBWSxLQUFLLENBQUM7QUFDckMsUUFDVyxnQkFBVyxHQUFZLEtBQUssQ0FBQztBQUN4QyxRQUdZLGdCQUFXLEdBQUcsSUFBSSxZ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QW5ELE1BQU0sQ0FBQyw0QkFBNEIsQ0FBRTtBQUFDLHFFQUEyRDtBQW5GdkYsZUFBZSxvQkFKM0IsU0FBUyxDQUFDLFVBQ1QsUUFBUSxqQ0FHTixDQXFGVyxXQUFBLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQTtDQXhGdEIsVUFBVSxVQUNwQixRQUFRLEVBQUUsV0FBVyxNQUN0QixDQUFDLGpEQXNGa0MsSUFFL0IsV0FBQSxRQUFRLEVBQUUsQ0FBQSxFQUFFLFdBQUEsTUFBTSxDQUFDLGFBQWEsQ0FBQyxDQUFBO0FBQUMsR0F2RjFCLGVBQWUsQ0F1VDNCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFDRDtBQUFDLFNBeFRZLGVBQWU7QUFBSSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTd2lwZXIgZnJvbSAnc3dpcGVyJztcblxuaW1wb3J0IHsgUExBVEZPUk1fSUQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IGlzUGxhdGZvcm1Ccm93c2VyIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IE5nWm9uZSwgSW5qZWN0LCBPcHRpb25hbCwgRWxlbWVudFJlZiwgRGlyZWN0aXZlLFxuICBBZnRlclZpZXdJbml0LCBPbkRlc3Ryb3ksIERvQ2hlY2ssIE9uQ2hhbmdlcywgSW5wdXQsIE91dHB1dCwgRXZlbnRFbWl0dGVyLFxuICBTaW1wbGVDaGFuZ2VzLCBLZXlWYWx1ZURpZmZlciwgS2V5VmFsdWVEaWZmZXJzIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IFNXSVBFUl9DT05GSUcsIFN3aXBlckNvbmZpZywgU3dpcGVyQ29uZmlnSW50ZXJmYWNlLFxuICBTd2lwZXJFdmVudCwgU3dpcGVyRXZlbnRzIH0gZnJvbSAnLi9zd2lwZXIuaW50ZXJmYWNlcyc7XG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ1tzd2lwZXJdJyxcbiAgZXhwb3J0QXM6ICduZ3hTd2lwZXInXG59KVxuZXhwb3J0IGNsYXNzIFN3aXBlckRpcmVjdGl2ZSBpbXBsZW1lbnRzIEFmdGVyVmlld0luaXQsIE9uRGVzdHJveSwgRG9DaGVjaywgT25DaGFuZ2VzIHtcbiAgcHJpdmF0ZSBpbnN0YW5jZTogYW55O1xuXG4gIHByaXZhdGUgaW5pdGlhbEluZGV4OiBudW1iZXIgfCBudWxsID0gbnVsbDtcblxuICBwcml2YXRlIGNvbmZpZ0RpZmY6IEtleVZhbHVlRGlmZmVyPHN0cmluZywgYW55PiB8IG51bGwgPSBudWxsO1xuXG4gIEBJbnB1dCgpXG4gIHNldCBpbmRleChpbmRleDogbnVtYmVyKSB7XG4gICAgaWYgKGluZGV4ICE9IG51bGwpIHtcbiAgICAgIHRoaXMuc2V0SW5kZXgoaW5kZXgpO1xuICAgIH1cbiAgfVxuXG4gIEBJbnB1dCgpIGRpc2FibGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgQElucHV0KCkgcGVyZm9ybWFuY2U6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBASW5wdXQoJ3N3aXBlcicpIGNvbmZpZz86IFN3aXBlckNvbmZpZ0ludGVyZmFjZTtcblxuICBAT3V0cHV0KCkgaW5kZXhDaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyPG51bWJlcj4oKTtcblxuICBAT3V0cHV0KCdpbml0JyAgICAgICAgICAgICAgICAgICAgICAgKSBTX0lOSVQgICAgICAgICAgICAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAT3V0cHV0KCdiZWZvcmVEZXN0cm95JyAgICAgICAgICAgICAgKSBTX0JFRk9SRURFU1RST1kgICAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gIEBPdXRwdXQoJ3Njcm9sbCcgICAgICAgICAgICAgICAgICAgICApIFNfU0NST0xMICAgICAgICAgICAgICAgICAgICAgICAgID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoJ3Byb2dyZXNzJyAgICAgICAgICAgICAgICAgICApIFNfUFJPR1JFU1MgICAgICAgICAgICAgICAgICAgICAgID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoJ2tleVByZXNzJyAgICAgICAgICAgICAgICAgICApIFNfS0VZUFJFU1MgICAgICAgICAgICAgICAgICAgICAgID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgQE91dHB1dCgncmVzaXplJyAgICAgICAgICAgICAgICAgICAgICkgU19SRVNJWkUgICAgICAgICAgICAgICAgICAgICAgICAgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgQE91dHB1dCgnYnJlYWtwb2ludCcgICAgICAgICAgICAgICAgICkgU19CUkVBS1BPSU5UICAgICAgICAgICAgICAgICAgICAgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgQE91dHB1dCgnem9vbUNoYW5nZScgICAgICAgICAgICAgICAgICkgU19aT09NQ0hBTkdFICAgICAgICAgICAgICAgICAgICAgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgQE91dHB1dCgnYWZ0ZXJSZXNpemUnICAgICAgICAgICAgICAgICkgU19BRlRFUlJFU0laRSAgICAgICAgICAgICAgICAgICAgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgQE91dHB1dCgnYmVmb3JlUmVzaXplJyAgICAgICAgICAgICAgICkgU19CRUZPUkVSRVNJWkUgICAgICAgICAgICAgICAgICAgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICBAT3V0cHV0KCdsb29wRml4JyAgICAgICAgICAgICAgICAgICAgKSBTX0xPT1BGSVggICAgICAgICAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAT3V0cHV0KCdiZWZvcmVMb29wRml4JyAgICAgICAgICAgICAgKSBTX0JFRk9SRUxPT1BGSVggICAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gIEBPdXRwdXQoJ3NsaWRlck1vdmUnICAgICAgICAgICAgICAgICApIFNfU0xJREVSTU9WRSAgICAgICAgICAgICAgICAgICAgID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoJ3NsaWRlQ2hhbmdlJyAgICAgICAgICAgICAgICApIFNfU0xJREVDSEFOR0UgICAgICAgICAgICAgICAgICAgID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgQE91dHB1dCgnc2V0VHJhbnNsYXRlJyAgICAgICAgICAgICAgICkgU19TRVRUUkFOU0xBVEUgICAgICAgICAgICAgICAgICAgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgQE91dHB1dCgnc2V0VHJhbnNpdGlvbicgICAgICAgICAgICAgICkgU19TRVRUUkFOU0lUSU9OICAgICAgICAgICAgICAgICAgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICBAT3V0cHV0KCdmcm9tRWRnZScgICAgICAgICAgICAgICAgICAgKSBTX0ZST01FREdFICAgICAgICAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAT3V0cHV0KCdyZWFjaEVuZCcgICAgICAgICAgICAgICAgICAgKSBTX1JFQUNIRU5EICAgICAgICAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAT3V0cHV0KCdyZWFjaEJlZ2lubmluZycgICAgICAgICAgICAgKSBTX1JFQUNIQkVHSU5OSU5HICAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gIEBPdXRwdXQoJ2F1dG9wbGF5JyAgICAgICAgICAgICAgICAgICApIFNfQVVUT1BMQVkgICAgICAgICAgICAgICAgICAgICAgID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoJ2F1dG9wbGF5U3RhcnQnICAgICAgICAgICAgICApIFNfQVVUT1BMQVlTVEFSVCAgICAgICAgICAgICAgICAgID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoJ2F1dG9wbGF5U3RvcCcgICAgICAgICAgICAgICApIFNfQVVUT1BMQVlTVE9QICAgICAgICAgICAgICAgICAgID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgQE91dHB1dCgnaW1hZ2VzUmVhZHknICAgICAgICAgICAgICAgICkgU19JTUFHRVNSRUFEWSAgICAgICAgICAgICAgICAgICAgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgQE91dHB1dCgnbGF6eUltYWdlTG9hZCcgICAgICAgICAgICAgICkgU19MQVpZSU1BR0VMT0FEICAgICAgICAgICAgICAgICAgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgQE91dHB1dCgnbGF6eUltYWdlUmVhZHknICAgICAgICAgICAgICkgU19MQVpZSU1BR0VSRUFEWSAgICAgICAgICAgICAgICAgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICBAT3V0cHV0KCdzY3JvbGxEcmFnRW5kJyAgICAgICAgICAgICAgKSBTX1NDUk9MTERSQUdFTkQgICAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAT3V0cHV0KCdzY3JvbGxEcmFnTW92ZScgICAgICAgICAgICAgKSBTX1NDUk9MTERSQUdNT1ZFICAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAT3V0cHV0KCdzY3JvbGxEcmFnU3RhcnQnICAgICAgICAgICAgKSBTX1NDUk9MTERSQUdTVEFSVCAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gIEBPdXRwdXQoJ25hdmlnYXRpb25IaWRlJyAgICAgICAgICAgICApIFNfTkFWSUdBVElPTkhJREUgICAgICAgICAgICAgICAgID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoJ25hdmlnYXRpb25TaG93JyAgICAgICAgICAgICApIFNfTkFWSUdBVElPTlNIT1cgICAgICAgICAgICAgICAgID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgQE91dHB1dCgncGFnaW5hdGlvblJlbmRlcicgICAgICAgICAgICkgU19QQUdJTkFUSU9OUkVOREVSICAgICAgICAgICAgICAgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgQE91dHB1dCgncGFnaW5hdGlvblVwZGF0ZScgICAgICAgICAgICkgU19QQUdJTkFUSU9OVVBEQVRFICAgICAgICAgICAgICAgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgQE91dHB1dCgncGFnaW5hdGlvbkhpZGUnICAgICAgICAgICAgICkgU19QQUdJTkFUSU9OSElERSAgICAgICAgICAgICAgICAgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgQE91dHB1dCgncGFnaW5hdGlvblNob3cnICAgICAgICAgICAgICkgU19QQUdJTkFUSU9OU0hPVyAgICAgICAgICAgICAgICAgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICBAT3V0cHV0KCdzd2lwZXJUYXAnICAgICAgICAgICAgICAgICAgKSBTX1RBUCAgICAgICAgICAgICAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAT3V0cHV0KCdzd2lwZXJDbGljaycgICAgICAgICAgICAgICAgKSBTX0NMSUNLICAgICAgICAgICAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAT3V0cHV0KCdzd2lwZXJEb3VibGVUYXAnICAgICAgICAgICAgKSBTX0RPVUJMRVRBUCAgICAgICAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAT3V0cHV0KCdzd2lwZXJUb3VjaEVuZCcgICAgICAgICAgICAgKSBTX1RPVUNIRU5EICAgICAgICAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAT3V0cHV0KCdzd2lwZXJUb3VjaE1vdmUnICAgICAgICAgICAgKSBTX1RPVUNITU9WRSAgICAgICAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAT3V0cHV0KCdzd2lwZXJUb3VjaFN0YXJ0JyAgICAgICAgICAgKSBTX1RPVUNIU1RBUlQgICAgICAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAT3V0cHV0KCdzd2lwZXJUb3VjaE1vdmVPcHBvc2l0ZScgICAgKSBTX1RPVUNITU9WRU9QUE9TSVRFICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAT3V0cHV0KCdzd2lwZXJUcmFuc2l0aW9uRW5kJyAgICAgICAgKSBTX1RSQU5TSVRJT05FTkQgICAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAT3V0cHV0KCdzd2lwZXJUcmFuc2l0aW9uU3RhcnQnICAgICAgKSBTX1RSQU5TSVRJT05TVEFSVCAgICAgICAgICAgICAgICA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gIEBPdXRwdXQoJ3NsaWRlUHJldlRyYW5zaXRpb25FbmQnICAgICApIFNfU0xJREVQUkVWVFJBTlNJVElPTkVORCAgICAgICAgID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoJ3NsaWRlUHJldlRyYW5zaXRpb25TdGFydCcgICApIFNfU0xJREVQUkVWVFJBTlNJVElPTlNUQVJUICAgICAgID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoJ3NsaWRlTmV4dFRyYW5zaXRpb25FbmQnICAgICApIFNfU0xJREVORVhUVFJBTlNJVElPTkVORCAgICAgICAgID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoJ3NsaWRlTmV4dFRyYW5zaXRpb25TdGFydCcgICApIFNfU0xJREVORVhUVFJBTlNJVElPTlNUQVJUICAgICAgID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoJ3NsaWRlQ2hhbmdlVHJhbnNpdGlvbkVuZCcgICApIFNfU0xJREVDSEFOR0VUUkFOU0lUSU9ORU5EICAgICAgID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoJ3NsaWRlQ2hhbmdlVHJhbnNpdGlvblN0YXJ0JyApIFNfU0xJREVDSEFOR0VUUkFOU0lUSU9OU1RBUlQgICAgID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgY29uc3RydWN0b3IoQEluamVjdChQTEFURk9STV9JRCkgcHJpdmF0ZSBwbGF0Zm9ybUlkOiBPYmplY3QsIHByaXZhdGUgem9uZTogTmdab25lLFxuICAgIHByaXZhdGUgZWxlbWVudFJlZjogRWxlbWVudFJlZiwgcHJpdmF0ZSBkaWZmZXJzOiBLZXlWYWx1ZURpZmZlcnMsXG4gICAgQE9wdGlvbmFsKCkgQEluamVjdChTV0lQRVJfQ09ORklHKSBwcml2YXRlIGRlZmF1bHRzOiBTd2lwZXJDb25maWdJbnRlcmZhY2UpIHt9XG5cbiAgbmdBZnRlclZpZXdJbml0KCk6IHZvaWQge1xuICAgIGlmICghaXNQbGF0Zm9ybUJyb3dzZXIodGhpcy5wbGF0Zm9ybUlkKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBTd2lwZXJDb25maWcodGhpcy5kZWZhdWx0cyk7XG5cbiAgICBwYXJhbXMuYXNzaWduKHRoaXMuY29uZmlnKTsgLy8gQ3VzdG9tIGNvbmZpZ3VyYXRpb25cblxuICAgIGlmIChwYXJhbXMuc2Nyb2xsYmFyID09PSB0cnVlKSB7XG4gICAgICBwYXJhbXMuc2Nyb2xsYmFyID0ge1xuICAgICAgICBlbDogJy5zd2lwZXItc2Nyb2xsYmFyJ1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLnBhZ2luYXRpb24gPT09IHRydWUpIHtcbiAgICAgIHBhcmFtcy5wYWdpbmF0aW9uID0ge1xuICAgICAgICBlbDogJy5zd2lwZXItcGFnaW5hdGlvbidcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy5uYXZpZ2F0aW9uID09PSB0cnVlKSB7XG4gICAgICBwYXJhbXMubmF2aWdhdGlvbiA9IHtcbiAgICAgICAgcHJldkVsOiAnLnN3aXBlci1idXR0b24tcHJldicsXG4gICAgICAgIG5leHRFbDogJy5zd2lwZXItYnV0dG9uLW5leHQnXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmICh0aGlzLmRpc2FibGVkKSB7XG4gICAgICBwYXJhbXMuYWxsb3dTbGlkZVByZXYgPSBmYWxzZTtcbiAgICAgIHBhcmFtcy5hbGxvd1NsaWRlTmV4dCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmluaXRpYWxJbmRleCAhPSBudWxsKSB7XG4gICAgICBwYXJhbXMuaW5pdGlhbFNsaWRlID0gdGhpcy5pbml0aWFsSW5kZXg7XG5cbiAgICAgIHRoaXMuaW5pdGlhbEluZGV4ID0gbnVsbDtcbiAgICB9XG5cbiAgICBwYXJhbXMub24gPSB7XG4gICAgICBzbGlkZUNoYW5nZTogKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5pbnN0YW5jZSAmJiB0aGlzLmluZGV4Q2hhbmdlLm9ic2VydmVycy5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLmVtaXQodGhpcy5pbmRleENoYW5nZSwgdGhpcy5pbnN0YW5jZS5yZWFsSW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB7XG4gICAgICB0aGlzLmluc3RhbmNlID0gbmV3IFN3aXBlcih0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCwgcGFyYW1zKTtcbiAgICB9KTtcblxuICAgIGlmIChwYXJhbXMuaW5pdCAhPT0gZmFsc2UgJiYgdGhpcy5TX0lOSVQub2JzZXJ2ZXJzLmxlbmd0aCkge1xuICAgICAgdGhpcy5lbWl0KHRoaXMuU19JTklULCB0aGlzLmluc3RhbmNlKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgbmF0aXZlIFN3aXBlciBldmVudCBoYW5kbGluZ1xuICAgIFN3aXBlckV2ZW50cy5mb3JFYWNoKChldmVudE5hbWU6IFN3aXBlckV2ZW50KSA9PiB7XG4gICAgICBsZXQgc3dpcGVyRXZlbnQgPSBldmVudE5hbWUucmVwbGFjZSgnc3dpcGVyJywgJycpO1xuXG4gICAgICBzd2lwZXJFdmVudCA9IHN3aXBlckV2ZW50LmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgc3dpcGVyRXZlbnQuc2xpY2UoMSk7XG5cbiAgICAgIHRoaXMuaW5zdGFuY2Uub24oc3dpcGVyRXZlbnQsICguLi5hcmdzOiBhbnlbXSkgPT4ge1xuICAgICAgICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBhcmdzID0gYXJnc1swXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG91dHB1dCA9IGBTXyR7c3dpcGVyRXZlbnQudG9VcHBlckNhc2UoKX1gO1xuXG4gICAgICAgIGNvbnN0IGVtaXR0ZXIgPSB0aGlzW291dHB1dCBhcyBrZXlvZiBTd2lwZXJEaXJlY3RpdmVdIGFzIEV2ZW50RW1pdHRlcjxhbnk+O1xuXG4gICAgICAgIGlmIChlbWl0dGVyLm9ic2VydmVycy5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLmVtaXQoZW1pdHRlciwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaWYgKCF0aGlzLmNvbmZpZ0RpZmYpIHtcbiAgICAgIHRoaXMuY29uZmlnRGlmZiA9IHRoaXMuZGlmZmVycy5maW5kKHRoaXMuY29uZmlnIHx8IHt9KS5jcmVhdGUoKTtcblxuICAgICAgdGhpcy5jb25maWdEaWZmLmRpZmYodGhpcy5jb25maWcgfHwge30pO1xuICAgIH1cbiAgfVxuXG4gIG5nT25EZXN0cm95KCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmluc3RhbmNlKSB7XG4gICAgICB0aGlzLnpvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xuICAgICAgICB0aGlzLmluc3RhbmNlLmRlc3Ryb3kodHJ1ZSwgdGhpcy5pbnN0YW5jZS5pbml0aWFsaXplZCB8fMKgZmFsc2UpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuaW5zdGFuY2UgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIG5nRG9DaGVjaygpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5jb25maWdEaWZmKSB7XG4gICAgICBjb25zdCBjaGFuZ2VzID0gdGhpcy5jb25maWdEaWZmLmRpZmYodGhpcy5jb25maWcgfHwge30pO1xuXG4gICAgICBpZiAoY2hhbmdlcykge1xuICAgICAgICB0aGlzLmluaXRpYWxJbmRleCA9IHRoaXMuZ2V0SW5kZXgodHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5uZ09uRGVzdHJveSgpO1xuXG4gICAgICAgIHRoaXMubmdBZnRlclZpZXdJbml0KCk7XG5cbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaW5zdGFuY2UgJiYgY2hhbmdlc1snZGlzYWJsZWQnXSkge1xuICAgICAgaWYgKGNoYW5nZXNbJ2Rpc2FibGVkJ10uY3VycmVudFZhbHVlICE9PSBjaGFuZ2VzWydkaXNhYmxlZCddLnByZXZpb3VzVmFsdWUpIHtcbiAgICAgICAgaWYgKGNoYW5nZXNbJ2Rpc2FibGVkJ10uY3VycmVudFZhbHVlID09PSB0cnVlKSB7XG4gICAgICAgICAgdGhpcy56b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubmdPbkRlc3Ryb3koKTtcblxuICAgICAgICAgICAgdGhpcy5uZ0FmdGVyVmlld0luaXQoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFuZ2VzWydkaXNhYmxlZCddLmN1cnJlbnRWYWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICB0aGlzLnpvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5uZ09uRGVzdHJveSgpO1xuXG4gICAgICAgICAgICB0aGlzLm5nQWZ0ZXJWaWV3SW5pdCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBlbWl0KGVtaXR0ZXI6IEV2ZW50RW1pdHRlcjxhbnk+LCB2YWx1ZTogYW55KTogdm9pZCB7XG4gICAgaWYgKHRoaXMucGVyZm9ybWFuY2UpIHtcbiAgICAgIGVtaXR0ZXIuZW1pdCh2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuem9uZS5ydW4oKCkgPT4gZW1pdHRlci5lbWl0KHZhbHVlKSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHN3aXBlcigpOiBhbnkge1xuICAgIHJldHVybiB0aGlzLmluc3RhbmNlO1xuICB9XG5cbiAgcHVibGljIGluaXQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaW5zdGFuY2UpIHtcbiAgICAgIHRoaXMuem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB7XG4gICAgICAgIHRoaXMuaW5zdGFuY2UuaW5pdCgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLmluc3RhbmNlKSB7XG4gICAgICAgIHRoaXMuem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB7XG4gICAgICAgICAgdGhpcy5pbnN0YW5jZS51cGRhdGUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwgMCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0SW5kZXgocmVhbD86IGJvb2xlYW4pOiBudW1iZXIge1xuICAgIGlmICghdGhpcy5pbnN0YW5jZSkge1xuICAgICAgcmV0dXJuIHRoaXMuaW5pdGlhbEluZGV4IHx8wqAwO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmVhbCA/IHRoaXMuaW5zdGFuY2UucmVhbEluZGV4IDogdGhpcy5pbnN0YW5jZS5hY3RpdmVJbmRleDtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgc2V0SW5kZXgoaW5kZXg6IG51bWJlciwgc3BlZWQ/OiBudW1iZXIsIHNpbGVudD86IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuaW5zdGFuY2UpIHtcbiAgICAgIHRoaXMuaW5pdGlhbEluZGV4ID0gaW5kZXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCByZWFsSW5kZXggPSBpbmRleCAqIHRoaXMuaW5zdGFuY2UucGFyYW1zLnNsaWRlc1Blckdyb3VwO1xuXG4gICAgICBpZiAodGhpcy5pbnN0YW5jZS5wYXJhbXMubG9vcCkge1xuICAgICAgICByZWFsSW5kZXggKz0gdGhpcy5pbnN0YW5jZS5sb29wZWRTbGlkZXM7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB7XG4gICAgICAgIHRoaXMuaW5zdGFuY2Uuc2xpZGVUbyhyZWFsSW5kZXgsIHNwZWVkLCAhc2lsZW50KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBwcmV2U2xpZGUoc3BlZWQ/OiBudW1iZXIsIHNpbGVudD86IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pbnN0YW5jZSkge1xuICAgICAgdGhpcy56b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5zbGlkZVByZXYoc3BlZWQsICFzaWxlbnQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIG5leHRTbGlkZShzcGVlZD86IG51bWJlciwgc2lsZW50PzogYm9vbGVhbik6IHZvaWQge1xuICAgIGlmICh0aGlzLmluc3RhbmNlKSB7XG4gICAgICB0aGlzLnpvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xuICAgICAgICB0aGlzLmluc3RhbmNlLnNsaWRlTmV4dChzcGVlZCwgIXNpbGVudCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgc3RvcEF1dG9wbGF5KHJlc2V0PzogYm9vbGVhbik6IHZvaWQge1xuICAgIGlmIChyZXNldCkge1xuICAgICAgdGhpcy5zZXRJbmRleCgwKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pbnN0YW5jZSAmJiB0aGlzLmluc3RhbmNlLmF1dG9wbGF5KSB7XG4gICAgICB0aGlzLnpvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xuICAgICAgICB0aGlzLmluc3RhbmNlLmF1dG9wbGF5LnN0b3AoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBzdGFydEF1dG9wbGF5KHJlc2V0PzogYm9vbGVhbik6IHZvaWQge1xuICAgIGlmIChyZXNldCkge1xuICAgICAgdGhpcy5zZXRJbmRleCgwKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pbnN0YW5jZSAmJiB0aGlzLmluc3RhbmNlLmF1dG9wbGF5KSB7XG4gICAgICB0aGlzLnpvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xuICAgICAgICB0aGlzLmluc3RhbmNlLmF1dG9wbGF5LnN0YXJ0KCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==