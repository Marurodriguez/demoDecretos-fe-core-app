{"ast":null,"code":"import * as ɵngcc0 from '@angular/core';\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __metadata = this && this.__metadata || function (k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\n\nimport { Directive, ElementRef, EventEmitter, Inject, Injectable, Input, Output, PLATFORM_ID, NgZone } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\n\nvar ClickOutsideDirective = function () {\n  function ClickOutsideDirective(_el, _ngZone, platformId) {\n    this._el = _el;\n    this._ngZone = _ngZone;\n    this.platformId = platformId;\n    this.clickOutsideEnabled = true;\n    this.attachOutsideOnClick = false;\n    this.delayClickOutsideInit = false;\n    this.emitOnBlur = false;\n    this.exclude = '';\n    this.excludeBeforeClick = false;\n    this.clickOutsideEvents = '';\n    this.clickOutside = new EventEmitter();\n    this._nodesExcluded = [];\n    this._events = ['click'];\n    this._initOnClickBody = this._initOnClickBody.bind(this);\n    this._onClickBody = this._onClickBody.bind(this);\n    this._onWindowBlur = this._onWindowBlur.bind(this);\n  }\n\n  ClickOutsideDirective.prototype.ngOnInit = function () {\n    if (!isPlatformBrowser(this.platformId)) {\n      return;\n    }\n\n    this._init();\n  };\n\n  ClickOutsideDirective.prototype.ngOnDestroy = function () {\n    if (!isPlatformBrowser(this.platformId)) {\n      return;\n    }\n\n    this._removeClickOutsideListener();\n\n    this._removeAttachOutsideOnClickListener();\n\n    this._removeWindowBlurListener();\n  };\n\n  ClickOutsideDirective.prototype.ngOnChanges = function (changes) {\n    if (!isPlatformBrowser(this.platformId)) {\n      return;\n    }\n\n    if (changes['attachOutsideOnClick'] || changes['exclude'] || changes['emitOnBlur']) {\n      this._init();\n    }\n  };\n\n  ClickOutsideDirective.prototype._init = function () {\n    if (this.clickOutsideEvents !== '') {\n      this._events = this.clickOutsideEvents.split(',').map(function (e) {\n        return e.trim();\n      });\n    }\n\n    this._excludeCheck();\n\n    if (this.attachOutsideOnClick) {\n      this._initAttachOutsideOnClickListener();\n    } else {\n      this._initOnClickBody();\n    }\n\n    if (this.emitOnBlur) {\n      this._initWindowBlurListener();\n    }\n  };\n\n  ClickOutsideDirective.prototype._initOnClickBody = function () {\n    if (this.delayClickOutsideInit) {\n      setTimeout(this._initClickOutsideListener.bind(this));\n    } else {\n      this._initClickOutsideListener();\n    }\n  };\n\n  ClickOutsideDirective.prototype._excludeCheck = function () {\n    if (this.exclude) {\n      try {\n        var nodes = Array.from(document.querySelectorAll(this.exclude));\n\n        if (nodes) {\n          this._nodesExcluded = nodes;\n        }\n      } catch (err) {\n        console.error('[ng-click-outside] Check your exclude selector syntax.', err);\n      }\n    }\n  };\n\n  ClickOutsideDirective.prototype._onClickBody = function (ev) {\n    if (!this.clickOutsideEnabled) {\n      return;\n    }\n\n    if (this.excludeBeforeClick) {\n      this._excludeCheck();\n    }\n\n    if (!this._el.nativeElement.contains(ev.target) && !this._shouldExclude(ev.target)) {\n      this._emit(ev);\n\n      if (this.attachOutsideOnClick) {\n        this._removeClickOutsideListener();\n      }\n    }\n  };\n\n  ClickOutsideDirective.prototype._onWindowBlur = function (ev) {\n    var _this = this;\n\n    setTimeout(function () {\n      if (!document.hidden) {\n        _this._emit(ev);\n      }\n    });\n  };\n\n  ClickOutsideDirective.prototype._emit = function (ev) {\n    var _this = this;\n\n    if (!this.clickOutsideEnabled) {\n      return;\n    }\n\n    this._ngZone.run(function () {\n      return _this.clickOutside.emit(ev);\n    });\n  };\n\n  ClickOutsideDirective.prototype._shouldExclude = function (target) {\n    for (var _i = 0, _a = this._nodesExcluded; _i < _a.length; _i++) {\n      var excludedNode = _a[_i];\n\n      if (excludedNode.contains(target)) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  ClickOutsideDirective.prototype._initClickOutsideListener = function () {\n    var _this = this;\n\n    this._ngZone.runOutsideAngular(function () {\n      _this._events.forEach(function (e) {\n        return document.addEventListener(e, _this._onClickBody);\n      });\n    });\n  };\n\n  ClickOutsideDirective.prototype._removeClickOutsideListener = function () {\n    var _this = this;\n\n    this._ngZone.runOutsideAngular(function () {\n      _this._events.forEach(function (e) {\n        return document.removeEventListener(e, _this._onClickBody);\n      });\n    });\n  };\n\n  ClickOutsideDirective.prototype._initAttachOutsideOnClickListener = function () {\n    var _this = this;\n\n    this._ngZone.runOutsideAngular(function () {\n      _this._events.forEach(function (e) {\n        return _this._el.nativeElement.addEventListener(e, _this._initOnClickBody);\n      });\n    });\n  };\n\n  ClickOutsideDirective.prototype._removeAttachOutsideOnClickListener = function () {\n    var _this = this;\n\n    this._ngZone.runOutsideAngular(function () {\n      _this._events.forEach(function (e) {\n        return _this._el.nativeElement.removeEventListener(e, _this._initOnClickBody);\n      });\n    });\n  };\n\n  ClickOutsideDirective.prototype._initWindowBlurListener = function () {\n    var _this = this;\n\n    this._ngZone.runOutsideAngular(function () {\n      window.addEventListener('blur', _this._onWindowBlur);\n    });\n  };\n\n  ClickOutsideDirective.prototype._removeWindowBlurListener = function () {\n    var _this = this;\n\n    this._ngZone.runOutsideAngular(function () {\n      window.removeEventListener('blur', _this._onWindowBlur);\n    });\n  };\n\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], ClickOutsideDirective.prototype, \"clickOutsideEnabled\", void 0);\n\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], ClickOutsideDirective.prototype, \"attachOutsideOnClick\", void 0);\n\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], ClickOutsideDirective.prototype, \"delayClickOutsideInit\", void 0);\n\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], ClickOutsideDirective.prototype, \"emitOnBlur\", void 0);\n\n  __decorate([Input(), __metadata(\"design:type\", String)], ClickOutsideDirective.prototype, \"exclude\", void 0);\n\n  __decorate([Input(), __metadata(\"design:type\", Boolean)], ClickOutsideDirective.prototype, \"excludeBeforeClick\", void 0);\n\n  __decorate([Input(), __metadata(\"design:type\", String)], ClickOutsideDirective.prototype, \"clickOutsideEvents\", void 0);\n\n  __decorate([Output(), __metadata(\"design:type\", EventEmitter)], ClickOutsideDirective.prototype, \"clickOutside\", void 0);\n\n  ClickOutsideDirective = __decorate([__param(2, Inject(PLATFORM_ID)), __metadata(\"design:paramtypes\", [ElementRef, NgZone, Object])], ClickOutsideDirective);\n\n  ClickOutsideDirective.ɵfac = function ClickOutsideDirective_Factory(t) {\n    return new (t || ClickOutsideDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone), ɵngcc0.ɵɵdirectiveInject(PLATFORM_ID));\n  };\n\n  ClickOutsideDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({\n    type: ClickOutsideDirective,\n    selectors: [[\"\", \"clickOutside\", \"\"]],\n    inputs: {\n      clickOutsideEnabled: \"clickOutsideEnabled\",\n      attachOutsideOnClick: \"attachOutsideOnClick\",\n      delayClickOutsideInit: \"delayClickOutsideInit\",\n      emitOnBlur: \"emitOnBlur\",\n      exclude: \"exclude\",\n      excludeBeforeClick: \"excludeBeforeClick\",\n      clickOutsideEvents: \"clickOutsideEvents\"\n    },\n    outputs: {\n      clickOutside: \"clickOutside\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature]\n  });\n  ClickOutsideDirective.ɵprov = ɵngcc0.ɵɵdefineInjectable({\n    token: ClickOutsideDirective,\n    factory: function factory(t) {\n      return ClickOutsideDirective.ɵfac(t);\n    }\n  });\n  /*@__PURE__*/\n\n  (function () {\n    ɵngcc0.ɵsetClassMetadata(ClickOutsideDirective, [{\n      type: Injectable\n    }, {\n      type: Directive,\n      args: [{\n        selector: '[clickOutside]'\n      }]\n    }], function () {\n      return [{\n        type: ɵngcc0.ElementRef\n      }, {\n        type: ɵngcc0.NgZone\n      }, {\n        type: Object,\n        decorators: [{\n          type: Inject,\n          args: [PLATFORM_ID]\n        }]\n      }];\n    }, {\n      clickOutsideEnabled: [{\n        type: Input\n      }],\n      attachOutsideOnClick: [{\n        type: Input\n      }],\n      delayClickOutsideInit: [{\n        type: Input\n      }],\n      emitOnBlur: [{\n        type: Input\n      }],\n      exclude: [{\n        type: Input\n      }],\n      excludeBeforeClick: [{\n        type: Input\n      }],\n      clickOutsideEvents: [{\n        type: Input\n      }],\n      clickOutside: [{\n        type: Output\n      }]\n    });\n  })();\n\n  return ClickOutsideDirective;\n}();\n\nexport { ClickOutsideDirective };","map":{"version":3,"sources":["click-outside.directive.js"],"names":[],"mappings":"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","sourcesContent":["var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Directive, ElementRef, EventEmitter, Inject, Injectable, Input, Output, PLATFORM_ID, NgZone, } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\nvar ClickOutsideDirective = (function () {\n    function ClickOutsideDirective(_el, _ngZone, platformId) {\n        this._el = _el;\n        this._ngZone = _ngZone;\n        this.platformId = platformId;\n        this.clickOutsideEnabled = true;\n        this.attachOutsideOnClick = false;\n        this.delayClickOutsideInit = false;\n        this.emitOnBlur = false;\n        this.exclude = '';\n        this.excludeBeforeClick = false;\n        this.clickOutsideEvents = '';\n        this.clickOutside = new EventEmitter();\n        this._nodesExcluded = [];\n        this._events = ['click'];\n        this._initOnClickBody = this._initOnClickBody.bind(this);\n        this._onClickBody = this._onClickBody.bind(this);\n        this._onWindowBlur = this._onWindowBlur.bind(this);\n    }\n    ClickOutsideDirective.prototype.ngOnInit = function () {\n        if (!isPlatformBrowser(this.platformId)) {\n            return;\n        }\n        this._init();\n    };\n    ClickOutsideDirective.prototype.ngOnDestroy = function () {\n        if (!isPlatformBrowser(this.platformId)) {\n            return;\n        }\n        this._removeClickOutsideListener();\n        this._removeAttachOutsideOnClickListener();\n        this._removeWindowBlurListener();\n    };\n    ClickOutsideDirective.prototype.ngOnChanges = function (changes) {\n        if (!isPlatformBrowser(this.platformId)) {\n            return;\n        }\n        if (changes['attachOutsideOnClick'] || changes['exclude'] || changes['emitOnBlur']) {\n            this._init();\n        }\n    };\n    ClickOutsideDirective.prototype._init = function () {\n        if (this.clickOutsideEvents !== '') {\n            this._events = this.clickOutsideEvents.split(',').map(function (e) { return e.trim(); });\n        }\n        this._excludeCheck();\n        if (this.attachOutsideOnClick) {\n            this._initAttachOutsideOnClickListener();\n        }\n        else {\n            this._initOnClickBody();\n        }\n        if (this.emitOnBlur) {\n            this._initWindowBlurListener();\n        }\n    };\n    ClickOutsideDirective.prototype._initOnClickBody = function () {\n        if (this.delayClickOutsideInit) {\n            setTimeout(this._initClickOutsideListener.bind(this));\n        }\n        else {\n            this._initClickOutsideListener();\n        }\n    };\n    ClickOutsideDirective.prototype._excludeCheck = function () {\n        if (this.exclude) {\n            try {\n                var nodes = Array.from(document.querySelectorAll(this.exclude));\n                if (nodes) {\n                    this._nodesExcluded = nodes;\n                }\n            }\n            catch (err) {\n                console.error('[ng-click-outside] Check your exclude selector syntax.', err);\n            }\n        }\n    };\n    ClickOutsideDirective.prototype._onClickBody = function (ev) {\n        if (!this.clickOutsideEnabled) {\n            return;\n        }\n        if (this.excludeBeforeClick) {\n            this._excludeCheck();\n        }\n        if (!this._el.nativeElement.contains(ev.target) && !this._shouldExclude(ev.target)) {\n            this._emit(ev);\n            if (this.attachOutsideOnClick) {\n                this._removeClickOutsideListener();\n            }\n        }\n    };\n    ClickOutsideDirective.prototype._onWindowBlur = function (ev) {\n        var _this = this;\n        setTimeout(function () {\n            if (!document.hidden) {\n                _this._emit(ev);\n            }\n        });\n    };\n    ClickOutsideDirective.prototype._emit = function (ev) {\n        var _this = this;\n        if (!this.clickOutsideEnabled) {\n            return;\n        }\n        this._ngZone.run(function () { return _this.clickOutside.emit(ev); });\n    };\n    ClickOutsideDirective.prototype._shouldExclude = function (target) {\n        for (var _i = 0, _a = this._nodesExcluded; _i < _a.length; _i++) {\n            var excludedNode = _a[_i];\n            if (excludedNode.contains(target)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    ClickOutsideDirective.prototype._initClickOutsideListener = function () {\n        var _this = this;\n        this._ngZone.runOutsideAngular(function () {\n            _this._events.forEach(function (e) { return document.addEventListener(e, _this._onClickBody); });\n        });\n    };\n    ClickOutsideDirective.prototype._removeClickOutsideListener = function () {\n        var _this = this;\n        this._ngZone.runOutsideAngular(function () {\n            _this._events.forEach(function (e) { return document.removeEventListener(e, _this._onClickBody); });\n        });\n    };\n    ClickOutsideDirective.prototype._initAttachOutsideOnClickListener = function () {\n        var _this = this;\n        this._ngZone.runOutsideAngular(function () {\n            _this._events.forEach(function (e) { return _this._el.nativeElement.addEventListener(e, _this._initOnClickBody); });\n        });\n    };\n    ClickOutsideDirective.prototype._removeAttachOutsideOnClickListener = function () {\n        var _this = this;\n        this._ngZone.runOutsideAngular(function () {\n            _this._events.forEach(function (e) { return _this._el.nativeElement.removeEventListener(e, _this._initOnClickBody); });\n        });\n    };\n    ClickOutsideDirective.prototype._initWindowBlurListener = function () {\n        var _this = this;\n        this._ngZone.runOutsideAngular(function () {\n            window.addEventListener('blur', _this._onWindowBlur);\n        });\n    };\n    ClickOutsideDirective.prototype._removeWindowBlurListener = function () {\n        var _this = this;\n        this._ngZone.runOutsideAngular(function () {\n            window.removeEventListener('blur', _this._onWindowBlur);\n        });\n    };\n    __decorate([\n        Input(),\n        __metadata(\"design:type\", Boolean)\n    ], ClickOutsideDirective.prototype, \"clickOutsideEnabled\", void 0);\n    __decorate([\n        Input(),\n        __metadata(\"design:type\", Boolean)\n    ], ClickOutsideDirective.prototype, \"attachOutsideOnClick\", void 0);\n    __decorate([\n        Input(),\n        __metadata(\"design:type\", Boolean)\n    ], ClickOutsideDirective.prototype, \"delayClickOutsideInit\", void 0);\n    __decorate([\n        Input(),\n        __metadata(\"design:type\", Boolean)\n    ], ClickOutsideDirective.prototype, \"emitOnBlur\", void 0);\n    __decorate([\n        Input(),\n        __metadata(\"design:type\", String)\n    ], ClickOutsideDirective.prototype, \"exclude\", void 0);\n    __decorate([\n        Input(),\n        __metadata(\"design:type\", Boolean)\n    ], ClickOutsideDirective.prototype, \"excludeBeforeClick\", void 0);\n    __decorate([\n        Input(),\n        __metadata(\"design:type\", String)\n    ], ClickOutsideDirective.prototype, \"clickOutsideEvents\", void 0);\n    __decorate([\n        Output(),\n        __metadata(\"design:type\", EventEmitter)\n    ], ClickOutsideDirective.prototype, \"clickOutside\", void 0);\n    ClickOutsideDirective = __decorate([\n        Injectable(),\n        Directive({ selector: '[clickOutside]' }),\n        __param(2, Inject(PLATFORM_ID)),\n        __metadata(\"design:paramtypes\", [ElementRef,\n            NgZone,\n            Object])\n    ], ClickOutsideDirective);\n    return ClickOutsideDirective;\n}());\nexport { ClickOutsideDirective };\n"]},"metadata":{},"sourceType":"module"}